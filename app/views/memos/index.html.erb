<% provide(:title, "Memos index") %>
<h1>Memos index!</h1>

<div class="row">
  <div class="col-md-6 col-md-offset-3">
    <%= form_with(model: [@group, @memo]) do |f| %>
      <%= render "shared/error_messages", object: f.object %>

      <h4><%= @date %></h4>

      <%= f.label :attendance_status %>
      <%= f.select :attendance_status, Memo.attendance_statuses.keys.to_a, {}, class: "form-control" %>

      <%= f.label :description %>
      <%= f.text_field :description, class: "form-control" %>

      <%= f.hidden_field :memo_date, :value => @date, class: "form-control" %>


      <%= f.submit "Submit", class: "btn btn-primary" %>
    <% end %>
  </div>
  <h2>メモ一覧</h2>
  <div>
    <% @memos.each do |memo| %>
      <% # 前のリンクで踏んだ日付に保存されたメモのみ表示 %>
      <%= link_to memo.description, group_memo_path(@group, memo) %>, メモグループid => <%= memo.group_id %>, メモユーザー名 => <%= memo.user.name %><br>
    <% end %>
  </div>
</div>
